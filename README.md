# Dependency Graph Visualizer

## Общее описание

Данный проект представляет собой инструмент для анализа и визуализации графа зависимостей пакетов .NET (NuGet) и других репозиториев. Инструмент реализован на Python и предоставляет возможности построения графа зависимостей, обнаружения циклических зависимостей и визуализации результатов в различных форматах.

**Этап 5**: Получение графического представления графа зависимостей с использованием PlantUML и сравнение с штатными инструментами.

## Описание всех функций и настроек

### Основные классы

#### Класс DependencyAnalyzer
Основной класс для анализа зависимостей пакетов.

**Методы:**
- `__init__(repository, max_depth=5, filter_str="")` - инициализация анализатора
- `analyze_dependencies(package_name)` - BFS анализ графа зависимостей с рекурсией
- `should_include_package(package_name)` - фильтрация пакетов по названию
- `display_analysis_results()` - вывод результатов анализа
- `display_reverse_dependencies(package_name)` - вывод обратных зависимостей
- `visualize_dependencies()` - управление процессом визуализации
- `compare_with_nuget_tools()` - сравнение с штатными инструментами NuGet

#### Класс DependencyGraph
Модель графа зависимостей с поддержкой основных операций.

**Методы:**
- `__init__()` - инициализация графа
- `add_package(package_name)` - добавление пакета в граф
- `add_dependency(from_package, to_package)` - добавление зависимости между пакетами
- `has_cycle()` - проверка наличия циклических зависимостей (обход в глубину)
- `get_cycles()` - поиск всех циклов в графе
- `get_reverse_dependencies(package_name)` - получение обратных зависимостей
- `get_dependency_levels()` - получение уровней зависимостей (BFS)

#### Класс DependencyVisualizer
Класс для визуализации графа зависимостей в различных форматах.

**Методы:**
- `__init__(dependency_graph)` - инициализация визуализатора
- `generate_plantuml_diagram()` - генерация кода на языке PlantUML
- `display_ascii_tree()` - построение и вывод ASCII-дерева зависимостей
- `generate_and_display_image()` - генерация PNG изображения графа
- `compare_with_nuget_tools()` - сравнение с выводом штатных инструментов

#### Класс NuGetRepository
Работа с NuGet registry для получения информации о пакетах.

**Методы:**
- `__init__(registry_url)` - инициализация репозитория
- `get_package(package_name)` - получение информации о пакете
- `get_dependencies(package_name)` - получение списка зависимостей пакета
- `_get_nuget_dependencies(package_info)` - внутренний метод извлечения зависимостей

#### Класс FileRepository
Работа с локальными файлами для тестового режима.

**Методы:**
- `__init__(file_path)` - инициализация файлового репозитория
- `load_packages()` - загрузка данных о пакетах из JSON файла
- `get_package(package_name)` - получение информации о пакете
- `get_dependencies(package_name)` - получение списка зависимостей

### Поддерживаемые параметры командной строки

1. **`--package`** - имя анализируемого пакета (обязательный)
2. **`--url`** - URL адрес репозитория NuGet (для реального режима)
3. **`--file`** - путь к файлу тестового репозитория (для тестового режима)
4. **`--test-mode`** - включение тестового режима работы
5. **`--visualize`** - визуализация графа зависимостей
6. **`--ascii-tree`** - вывод зависимостей в формате ASCII-дерева
7. **`--generate-image`** - генерация PNG изображения графа
8. **`--reverse-deps`** - вывод обратных зависимостей для заданного пакета
9. **`--help`** - вывод справки по использованию

### Форматы визуализации

1. **PlantUML** - текстовое представление графа на языке диаграмм
2. **PNG изображения** - графическое представление графа
3. **ASCII-дерево** - текстовое дерево зависимостей в консоли
4. **Сравнительный анализ** - сравнение с инструментами `dotnet list package`

## Команды для сборки проекта и запуска тестов

### Установка зависимостей

```bash
# Установка PlantUML для генерации изображений (опционально)

# Windows
choco install plantuml

# Linux (Debian/Ubuntu)
sudo apt-get install plantuml

# MacOS
brew install plantuml

# Проект использует только стандартные библиотеки Python 3.7+
# Дополнительные Python зависимости не требуются
